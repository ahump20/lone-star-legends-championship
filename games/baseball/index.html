<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sandlot Showdown – Backyard-Style Baseball Demo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/backyard-showdown.css">
    <meta name="description" content="Play a three-inning sandlot baseball showdown with two original teams inspired by classic backyard vibes.">
</head>
<body>
    <div class="game-shell" role="application" aria-label="Sandlot Showdown baseball game">
        <header class="score-header">
            <div class="title-block">
                <span class="brand-tag">Sandlot Showdown</span>
                <h1>Backyard-Style Baseball Demo</h1>
                <p class="subtitle">Three innings. Two neighborhood legends. Pure sandlot energy.</p>
            </div>
            <div class="status-panel" aria-live="polite">
                <div class="status-chip" id="halfLabel">Top</div>
                <div class="status-chip" id="inningLabel">1st Inning</div>
                <div class="status-chip" id="outsLabel">0 Outs</div>
                <div class="status-chip" id="countLabel">Count 0-0</div>
            </div>
        </header>

        <main class="game-grid">
            <section class="team-panel" data-team="0" aria-labelledby="team0Name">
                <div class="team-card" id="teamCard0">
                    <div class="team-meta">
                        <h2 id="team0Name">Oakdale Orbiters</h2>
                        <p class="team-motto" id="team0Motto">Skyline kids with launchpad swings.</p>
                    </div>
                    <ul class="lineup" id="team0Lineup" aria-label="Orbiters lineup"></ul>
                </div>
            </section>

            <section class="center-stage">
                <div class="field-wrapper">
                    <div class="field" aria-hidden="true">
                        <div class="field-backdrop"></div>
                        <div class="diamond">
                            <div class="base base-home"></div>
                            <div class="base base-first" data-base="1"></div>
                            <div class="base base-second" data-base="2"></div>
                            <div class="base base-third" data-base="3"></div>
                            <div class="pitcher-mound"></div>
                            <svg class="outfield" viewBox="0 0 300 220" preserveAspectRatio="xMidYMid slice">
                                <path d="M150 10 C 40 40, 40 140, 150 210 C 260 140, 260 40, 150 10 Z" fill="url(#grassGradient)" stroke="#104d52" stroke-width="6"/>
                                <defs>
                                    <radialGradient id="grassGradient" cx="50%" cy="50%" r="70%">
                                        <stop offset="0%" stop-color="#2ecc71"/>
                                        <stop offset="85%" stop-color="#1f7a4d"/>
                                        <stop offset="100%" stop-color="#145c34"/>
                                    </radialGradient>
                                </defs>
                            </svg>
                        </div>
                    </div>
                    <div class="batter-spot" aria-live="polite">
                        <div class="batter-label">Current Batter</div>
                        <div class="batter-card" id="currentBatterCard">
                            <div class="batter-avatar" id="currentBatterAvatar" aria-hidden="true">⚾️</div>
                            <div class="batter-info">
                                <div class="batter-name" id="currentBatterName">—</div>
                                <div class="batter-detail" id="currentBatterDetail">Waiting for lineups…</div>
                            </div>
                        </div>
                    </div>
                    <div class="highlight-banner" id="highlightBanner" role="status" aria-live="polite">Let’s play ball!</div>
                </div>
                <section class="swing-zone" aria-label="Batting skill challenge">
                    <header class="swing-zone__header">
                        <h2>Timing Meter</h2>
                        <p>Home team swings manually — land the pointer in the gold zone.</p>
                    </header>
                    <div class="swing-meter" role="presentation">
                        <div class="meter-track">
                            <div class="meter-target" id="meterTarget"></div>
                            <div class="meter-pointer" id="meterPointer"></div>
                        </div>
                    </div>
                    <p class="swing-hint" id="swingHint">Press “Next Play” to start a pitch. Press “Swing” (or Space) while the pointer is in the gold.</p>
                </section>
            </section>

            <section class="team-panel" data-team="1" aria-labelledby="team1Name">
                <div class="team-card" id="teamCard1">
                    <div class="team-meta">
                        <h2 id="team1Name">Cactus Gulch Roadrunners</h2>
                        <p class="team-motto" id="team1Motto">Desert dashers with wheels for days.</p>
                    </div>
                    <ul class="lineup" id="team1Lineup" aria-label="Roadrunners lineup"></ul>
                </div>
            </section>
        </main>

        <section class="hud">
            <article class="scoreboard-card" aria-label="Scoreboard">
                <header>
                    <h2>Scoreboard</h2>
                    <p class="scoreboard-note">Three innings. Highest total takes the crown. Ties stay ties—this is sandlot ball.</p>
                </header>
                <table class="score-table">
                    <thead>
                        <tr>
                            <th scope="col" class="col-team">Team</th>
                            <th scope="col">1</th>
                            <th scope="col">2</th>
                            <th scope="col">3</th>
                            <th scope="col" class="col-total">R</th>
                            <th scope="col" class="col-total">H</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-team="0">
                            <th scope="row" class="team-label">
                                <span class="team-swatch"></span>
                                <span class="team-name" data-binding="teamName">Orbiters</span>
                            </th>
                            <td data-inning="1">0</td>
                            <td data-inning="2">0</td>
                            <td data-inning="3">0</td>
                            <td class="score-total" data-field="runs">0</td>
                            <td class="score-total" data-field="hits">0</td>
                        </tr>
                        <tr data-team="1">
                            <th scope="row" class="team-label">
                                <span class="team-swatch"></span>
                                <span class="team-name" data-binding="teamName">Roadrunners</span>
                            </th>
                            <td data-inning="1">0</td>
                            <td data-inning="2">0</td>
                            <td data-inning="3">0</td>
                            <td class="score-total" data-field="runs">0</td>
                            <td class="score-total" data-field="hits">0</td>
                        </tr>
                    </tbody>
                </table>
            </article>

            <article class="log-card" aria-label="Play by play">
                <header>
                    <h2>Play by Play</h2>
                    <p class="log-note">Latest moments first. Big swings glow bright.</p>
                </header>
                <ul class="log-list" id="playLog" aria-live="polite"></ul>
            </article>

            <article class="control-card" aria-label="Game controls">
                <header>
                    <h2>Controls</h2>
                </header>
                <div class="control-row">
                    <button type="button" class="control-btn" data-action="play">Next Play / Pitch</button>
                    <button type="button" class="control-btn control-btn--accent" data-action="swing" aria-pressed="false" disabled>Swing!</button>
                    <button type="button" class="control-btn" data-action="reset">Reset Game</button>
                </div>
                <p class="control-hint">Space: start a pitch or swing when the meter is live. J: swing. R: reset.</p>
            </article>
        </section>

        <footer class="game-footer">
            <p>Original sandlot rosters. Backyard-inspired presentation. Built for quick demos without infringing on the classics.</p>
        </footer>
    </div>

    <div class="final-banner" id="finalBanner" role="alertdialog" aria-modal="true" aria-hidden="true">
        <div class="final-card">
            <h2 id="finalTitle">Game Over</h2>
            <p id="finalSubtitle">Thanks for playing Sandlot Showdown!</p>
            <button type="button" class="control-btn" data-action="close-final">Close</button>
        </div>
    </div>

    <script src="/js/backyard-showdown.js" type="module" defer></script>
    <script type="module">
        // Initialize stadium integration when page loads
        import { initStadiumIntegration } from '/js/stadium-integration.js';
        
        window.addEventListener('DOMContentLoaded', () => {
            // Initialize stadium visuals and info
            initStadiumIntegration();
        });
    </script>
</body>
</html>
